# Prerequisites

Building was tested on Linux and Windows with recent C++ compilers (needs to support the `c++17` standard). C++
dependencies are handled by [vcpkg](https://vcpkg.io/en/), so make sure you have that installed and in your `PATH`. You
will also need a recent version of [CMake](https://cmake.org/) installed on your machine and findable in your `PATH`.

Additionally, you need [Rust](https://www.rust-lang.org/) installed with `cargo` in your `PATH`, as well as [yarn]
(https://yarnpkg.com/).

Build `vcpkg` once (this will fail since actual packages will be taken from `vcpkg.json`; just ignore the error here):

```shell
cargo vcpkg build
```

after installing `cargo-vcpkg` once:

```shell
cargo install cargo-vcpkg
```

The build instructions below work identically on Linux and Windows.

# C++ libraries and examples

1. install dependencies: `vcpkg install`
2. compile as usual with `CMake` and the presets generated by `Conan`, e.g., run this from within [lp-cpp](../lp-cpp):
   ```shell
   cmake -DCMAKE_BUILD_TYPE=Release --preset release -S . -B ./build/Release
   cmake --build ./build/Release
   ```

# live-plotter application

1. go to folder [live-plotter](../live-plotter)
2. install dependencies
   ```shell
   yarn install
   ```
3. build `live-plotter`
   ```shell
   yarn tauri build
   ```
   After about 4-5 minutes, this should finish without error, and you should see the executable
   `src-tauri/target/release/live-plotter` next to the library `src-tauri/target/release/libliveplot-sub.so`.

   Additionally, under [src-tauri/target/release/bundle](../live-plotter/src-tauri/target/release/bundle), you will
   see a `DEB` package and `appimage` in case of Linux, and an `MSI` installer in case you're on Windows.